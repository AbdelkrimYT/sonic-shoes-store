<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
    <link href="./assets/product.css" rel="stylesheet">
    <title>Sonic Shoes - prodecy name</title>
</head>
<body>
    <header>
        <div class="banner">
            <strong>
                اطلب الآن واستمتع بخدمة الدفع عند الاستلام لضمان راحتك واطمئنانك
            </strong>
        </div>
        <div class="logo">
            <strong>
                Sonic Shoes
            </strong>
            <img src="https://raw.githubusercontent.com/AbdelkrimYT/sonic-shoes-store/main/webstore/assets/logo.png" />
        </div>
    </header>

  <main>

    <section>
        <div class="gallery">
            <img src="https://bonprixdz.com/wp-content/uploads/2025/01/WhatsApp-Image-2025-01-09-a-00.17.24_f0dfb615-1.jpg">
        </div>
    </section>

    <section>
        <form>
            <input name="fullname" placeholder="الإسم الشخصي">
            <input name="phone" placeholder="رقم الهاتف">
            <label for="color">اللون</label>
            <select multiple id="color" class="color-box" name="color">
                <option value="black">أسود</option>
            </select>
            <label for="size">المقاس</label>
            <select multiple id="size" class="size-box" name="size">
                <option value="40">40</option>
                <option value="41">41</option>
            </select>
            <label for="state">الولاية</label>
            <select id="state" onchange="changeCommune()">
                <option></option>
            </select>
            <label for="commune">البلدية</label>
            <select id="commune">
            </select>
            <input type="submit" value="تأكيد الطلب">
        </form>
    </section>

  </main>

  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

  <script>
    const states = [];

    axios.get('https://raw.githubusercontent.com/AbdelkrimYT/sonic-shoes-store/main/data/states.json')
        .then((response) => {
            const state_select = document.getElementById('state');
            
            response.data.forEach(e => {
                let option = document.createElement('option');
                option.value = e.code;
                option.innerHTML = e.name;
                state_select.appendChild(option);
                states.push(e);
            });

            return response.data;
        }).catch((error) => {
            console.log(error);
        });

    function changeCommune() {
        const change_code = document.getElementById('state').value;

        if (!change_code)
            return;

        const commune_element = document.getElementById('commune');
        const state = states.find(e => e.code == change_code);
        
        state.communes.forEach(e => {
            const option = document.createElement('option');
            option.value = e.code;
            option.innerHTML = e.name;
            commune_element.appendChild(option);
        });
    }

  </script>

</body>
</html>